/*
v 1.3 - a jQuery plugin by Alvaro Prieto Lauroba
Licences: MIT & GPL
*/
(function (e) { function j(t, n) { var r = e(t), i = "marginLeft", a = "marginRight", c = "currentStyle", m = "border"; if (n.disable) return F(r); var g = r.id = r[d](u) || f + o++; r.p = n.postbackSafe; if (!r.is("table") || s[g]) return; r[w](f)[d](u, g).before(v + 'CRC"/>'); r.opt = n; r.g = []; r.c = []; r.w = r[p](); r.gc = r.prev(); if (n[i]) r.gc.css(i, n[i]); if (n[a]) r.gc.css(a, n[a]); r.cs = l(h ? t.cellSpacing || t[c][m + "Spacing"] : r.css(m + "-spacing")) || 2; r.b = l(h ? t[m] || t[c][m + "LeftWidth"] : r.css(m + "-" + k + "-" + p)) || 1; s[g] = r; I(r) } function F(e) { var t = e[d](u), e = s[t]; if (!e || !e.is("table")) return; e[b](f).gc.remove(); delete s[t] } function I(t) { var n = "find", r = t[n](">thead>tr>th,>thead>tr>td"), i = "length"; if (!r[i]) r = t[n](">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td,>tr:first>td"); t.cg = t[n]("col"); t.ln = r[i]; if (t.p && P && P[t.id]) q(t, r); var s = t["first_set"]; var o = 0; r.each(function (n) { var r = e(this); var i = e(t.gc[y](v + 'CRG"></div>')[0].lastChild); i.t = t; i.i = n; i.c = r; r.w = r[p](); t.g[g](i); t.c[g](r); if (s == null) { if (t.opt.defaultWith != null && t.opt.defaultWith.length > o) { r.css("width", t.opt.defaultWith[o]) } } else { r[p](r.w)[E](p) } if (n < t.ln - 1) i.mousedown(X)[y](t.opt.gripInnerHtml)[y](v + f + '" style="cursor:' + t.opt.hoverCursor + '"></div>'); else i[w]("CRL")[b]("CRG"); i.data(f, { i: n, t: t[d](u) }); o++ }); t["first_set"] = false; t.cg[E](p); R(t); t[n]("td, th").not(r).not("table th, table td").each(function () { e(this)[E](p) }) } function q(e, t) { var n, r = 0, i = 0, s = []; if (t) { e.cg[E](p); if (e.opt.flush) { P[e.id] = ""; return } n = P[e.id].split(";"); for (; i < e.ln; i++) { s[g](100 * n[i] / n[e.ln] + "%"); t.eq(i).css(p, s[i]) } for (i = 0; i < e.ln; i++) e.cg.eq(i).css(p, s[i]) } else { P[e.id] = ""; for (i in e.c) { n = e.c[i][p](); P[e.id] += n + ";"; r += n } P[e.id] += r } } function R(e) { e.gc[p](e.w); for (var t = 0; t < e.ln; t++) { var n = e.c[t]; e.g[t].css({ left: n.offset().left - e.offset()[k] + n.outerWidth() + e.cs / 2 + a, height: e.opt.headerOnly ? e.c[0].outerHeight() : e.outerHeight() }) } } function U(e, t, n) { var r = i.x - i.l, s = e.c[t], o = e.c[t + 1]; var u = s.w + r; var f = o.w - r; s[p](u + a); o[p](f + a); e.cg.eq(t)[p](u + a); e.cg.eq(t + 1)[p](f + a); if (n) { s.w = u; o.w = f } } function z(e) { if (!i) return; var t = i.t; var r = e.pageX - i.ox + i.l; var s = t.opt.minWidth, o = i.i; var u = t.cs * 1.5 + s + t.b; var f = o == t.ln - 1 ? t.w - u : t.g[o + 1][L]()[k] - t.cs - s; var l = o ? t.g[o - 1][L]()[k] + t.cs + s : u; r = c.max(l, c.min(f, r)); i.x = r; i.css(k, r + a); if (t.opt.liveDrag) { U(t, o); R(t); var h = t.opt.onDrag; if (h) { e[C] = t[0]; h(e) } } return n } function W(n) { var s = "unbind"; t[s](T + f)[s](N + f); e("head :last-child").remove(); if (!i) return; i[b](i.t.opt.draggingClass); var o = i.t, u = o.opt.onResize; if (i.x) { U(o, i.i, 1); R(o); if (u) { n[C] = o[0]; u(n) } } if (o.p && P) q(o); i = r } function X(r) { var o = e(this).data(f); var u = s[o.t], a = u.g[o.i]; a.ox = r.pageX; a.l = a[L]()[k]; t[S](T + f, z)[S](N + f, W); H[y](m + "*{cursor:" + u.opt.dragCursor + M + A); a[w](u.opt.draggingClass); i = a; if (u.c[o.i].l) for (var l = 0, c; l < u.ln; l++) { c = u.c[l]; c.l = n; c.w = c[p]() } return n } function V() { for (e in s) { var e = s[e], t, n = 0; e[b](f); if (e.w != e[p]()) { e.w = e[p](); for (t = 0; t < e.ln; t++) n += e.c[t].w; for (t = 0; t < e.ln; t++) e.c[t].css(p, c.round(1e3 * e.c[t].w / n) / 10 + "%").l = 1 } R(e[w](f)) } } var t = e(document), n = !1, r = null, i = r, s = [], o = 0, u = "id", a = "px", f = "CRZ", l = parseInt, c = Math, h = e.browser.msie, p = "width", d = "attr", v = '<div class="', m = "<style type='text/css'>", g = "push", y = "append", b = "removeClass", w = "addClass", E = "removeAttr", S = "bind", x = "extend", T = "mousemove.", N = "mouseup.", C = "currentTarget", k = "left", L = "position", A = "}</style>", O = ":absolute;", M = "!important;", _ = "padding-", D = ":0px" + M, P, H = e("head")[y](m + ".CRZ{table-layout:fixed;}.CRZ td,.CRZ th{/*" + _ + k + D + _ + "right" + D + "*/overflow:hidden}.CRC{height:0px;" + L + ":relative;}.CRG{margin-left:-5px;" + L + O + "z-index:5;}.CRG .CRZ{" + L + O + "background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px}.CRL{" + L + O + "width:1px}.CRD{ border-left:1px dotted black" + A); try { P = sessionStorage } catch (B) { } e(window)[S]("resize." + f, V); e.fn[x]({ colResizable: function (t) { var i = { draggingClass: "CRD", gripInnerHtml: "", liveDrag: n, minWidth: 24, headerOnly: n, hoverCursor: "e-resize", dragCursor: "e-resize", postbackSafe: n, flush: n, marginLeft: r, marginRight: r, disable: n, defaultWith: [], onDrag: r, onResize: r }; var t = e[x](i, t); return this.each(function () { j(this, t) }) } }) })(jQuery)